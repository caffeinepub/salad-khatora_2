{
  "kind": "build_request",
  "title": "Fix 'Actor not available' error when adding a customer",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Fix the 'Actor not available' error that occurs when submitting the Add Customer form on the Customers page. Ensure the backend actor is fully initialized and available before the create customer mutation is invoked. Add a proper loading/guard state so the form submission is disabled or deferred until the actor is ready, and display a user-friendly error message if the actor is genuinely unavailable instead of crashing silently.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "while adding customer showing actor not available"
        ]
      },
      "acceptanceCriteria": [
        "Opening the Add Customer dialog and submitting the form does not produce an 'Actor not available' error.",
        "The Add Customer submit button is disabled while the actor is still initializing.",
        "If the actor fails to initialize, a descriptive error message is shown to the user.",
        "Successfully adding a customer updates the customer list without page reload."
      ]
    }
  ],
  "constraints": [
    "Do not modify files under frontend/src/hooks/useActor.ts or any other immutable path.",
    "All backend actor interaction must go through the existing useActor hook."
  ],
  "nonGoals": [
    "Changes to backend customer data model or Motoko logic.",
    "Redesigning the Customers page UI."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}